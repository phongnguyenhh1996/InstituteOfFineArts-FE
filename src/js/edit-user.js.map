{"version":3,"sources":["src/edit-user.js"],"names":["UNAUTHORIZED","axios","interceptors","response","use","error","status","window","location","href","Promise","reject","apiUrl","$","datepicker","urlString","url","URL","id","searchParams","get","method","headers","Authorization","localStorage","getItem","then","res","data","Object","keys","forEach","key","val","on","e","preventDefault","formInput","find","removeClass","next","remove","invalid","each","trim","addClass","after","attr"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\nimport $ from 'jquery'\nimport axios from 'axios'\nconst UNAUTHORIZED = 401\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const {\n      status\n    } = error.response\n    if (status === UNAUTHORIZED) {\n      window.location.href = '/login.html'\n    }\n    return Promise.reject(error)\n  }\n)\nconst apiUrl = 'http://192.168.43.211:44396/'\n// init datepicker\n$('[data-toggle=\"datepicker\"]').datepicker()\n// fetch user\nconst urlString = window.location.href\nconst url = new URL(urlString)\nconst id = url.searchParams.get('id')\n\naxios({\n  method: 'get',\n  url: `${apiUrl}api/Users/${id}`,\n  headers: {\n    Authorization: `bearer ${localStorage.getItem('accessToken')}`\n  }\n})\n  .then((res) => {\n    if (res && res.data) {\n      Object.keys(res.data).forEach((key) => {\n        $(`.form-control[name='${key}']`).val(res.data[key])\n      })\n    }\n  })\n$('#editUser').on('submit', (e) => {\n  e.preventDefault()\n  const formInput = $('#editUser').find('.form-control')\n  formInput.removeClass('is-invalid')\n  formInput.next().remove()\n  const data = {}\n  let invalid = false\n  formInput.each(function () {\n    if (!$(this).val().trim()) {\n      invalid = true\n      $(this).addClass('is-invalid')\n      $(this).after($('<div class=\"invalid-feedback\">This field is required!</div>'))\n    } else {\n      data[$(this).attr('name')] = $(this).val().trim()\n    }\n  })\n  if (!invalid) {\n    axios({\n      method: 'put',\n      url: `${apiUrl}api/Users/${id}`,\n      headers: {\n        Authorization: `bearer ${localStorage.getItem('accessToken')}`\n      },\n      data\n    })\n      .then((res) => {\n        if (res) {\n          window.location.href = 'admin/user-list.html'\n        }\n      })\n  }\n})\n\n"],"file":"edit-user.js"}