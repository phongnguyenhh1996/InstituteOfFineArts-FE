{"version":3,"sources":["src/compertition-detail.js"],"names":["UNAUTHORIZED","axios","interceptors","response","use","error","status","localStorage","removeItem","window","location","href","Promise","reject","apiUrl","urlString","url","URL","id","searchParams","get","method","headers","Authorization","getItem","then","res","data","$","text","CompetitionName","moment","StartDate","format","EndDate","AwardDetail","diff","isUserHavePosting","attr","PostingId","CompetitionId"],"mappings":";;AAGA,IAAMA,YAAY,GAAG,GAArB;AACAC,KAAK,CAACC,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACE,UAACD,QAAD;AAAA,SAAcA,QAAd;AAAA,CADF,EAEE,UAACE,KAAD,EAAW;AAAA,MAEPC,MAFO,GAGLD,KAAK,CAACF,QAHD,CAEPG,MAFO;;AAIT,MAAIA,MAAM,KAAKN,YAAf,EAA6B;AAC3BO,IAAAA,YAAY,CAACC,UAAb,CAAwB,aAAxB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,aAAvB;AACD;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeR,KAAf,CAAP;AACD,CAXH;AAaA,IAAMS,MAAM,GAAG,8BAAf;AACA,IAAMC,SAAS,GAAGN,MAAM,CAACC,QAAP,CAAgBC,IAAlC;AACA,IAAMK,GAAG,GAAG,IAAIC,GAAJ,CAAQF,SAAR,CAAZ;AACA,IAAMG,EAAE,GAAGF,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,IAArB,CAAX;AAEAnB,KAAK,CAAC;AACJoB,EAAAA,MAAM,EAAE,KADJ;AAEJL,EAAAA,GAAG,EAAKF,MAAL,0BAAgCI,EAF/B;AAGJI,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,cAAYhB,YAAY,CAACiB,OAAb,CAAqB,aAArB;AADlB;AAHL,CAAD,CAAL,CAOGC,IAPH,CAOQ,UAACC,GAAD,EAAS;AACb,MAAIA,GAAG,IAAIA,GAAG,CAACC,IAAf,EAAqB;AACnB,QAAMA,IAAI,GAAGD,GAAG,CAACC,IAAjB;AACAC,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,IAAvB,CAA4BF,IAAI,CAACG,eAAjC;AACAF,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,IAAvB,CAA+BE,MAAM,CAACJ,IAAI,CAACK,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,yBAA9B,CAA/B,WAA6FF,MAAM,CAACJ,IAAI,CAACO,OAAN,CAAN,CAAqBD,MAArB,CAA4B,yBAA5B,CAA7F;AACAL,IAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBC,IAAxB,CAA6BF,IAAI,CAACQ,WAAlC;AACAP,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAeC,IAAf,CAAuBE,MAAM,CAACJ,IAAI,CAACO,OAAN,CAAN,CAAqBE,IAArB,CAA0BL,MAAM,EAAhC,EAAoC,MAApC,CAAvB;;AACA,QAAIJ,IAAI,CAACU,iBAAT,EAA4B;AAC1BT,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBC,IAApB,CAAyB,kBAAzB;AACAD,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBU,IAApB,CAAyB,MAAzB,oCAAiEX,IAAI,CAACY,SAAtE;AACD,KAHD,MAGO;AACLX,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBU,IAApB,CAAyB,MAAzB,oCAAiEX,IAAI,CAACa,aAAtE;AACD;AACF;AACF,CArBH","sourcesContent":["import $ from 'jquery'\nimport axios from 'axios'\nimport moment from 'moment'\nconst UNAUTHORIZED = 401\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const {\n      status\n    } = error.response\n    if (status === UNAUTHORIZED) {\n      localStorage.removeItem('accessToken')\n      window.location.href = '/login.html'\n    }\n    return Promise.reject(error)\n  }\n)\nconst apiUrl = 'http://192.168.43.211:44396/'\nconst urlString = window.location.href\nconst url = new URL(urlString)\nconst id = url.searchParams.get('id')\n\naxios({\n  method: 'get',\n  url: `${apiUrl}/api/Competitions/${id}`,\n  headers: {\n    Authorization: `bearer ${localStorage.getItem('accessToken')}`\n  }\n})\n  .then((res) => {\n    if (res && res.data) {\n      const data = res.data\n      $('.compertitionName').text(data.CompetitionName)\n      $('#compertitionTime').text(`${moment(data.StartDate).format('MMMM Do YYYY, h:mm:ss a')} - ${moment(data.EndDate).format('MMMM Do YYYY, h:mm:ss a')}`)\n      $('#compertitionAward').text(data.AwardDetail)\n      $('#daysLeft').text(`${moment(data.EndDate).diff(moment(), 'days')} DAYS LEFT`)\n      if (data.isUserHavePosting) {\n        $('#createPosting').text('See your posting')\n        $('#createPosting').attr('href', `admin/posting-detail.html?id=${data.PostingId}`)\n      } else {\n        $('#createPosting').attr('href', `admin/create-posting.html?id=${data.CompetitionId}`)\n      }\n    }\n  })\n"],"file":"compertition-detail.js"}