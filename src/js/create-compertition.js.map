{"version":3,"sources":["src/create-compertition.js"],"names":["UNAUTHORIZED","axios","interceptors","response","use","error","status","window","location","href","Promise","reject","apiUrl","$","datepicker","method","url","headers","Authorization","localStorage","getItem","then","res","data","forEach","item","awardItem","text","AwardName","attr","AwardId","append","on","e","preventDefault","formInput","find","removeClass","next","remove","invalid","each","val","trim","addClass","after"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\nimport $ from 'jquery'\nimport axios from 'axios'\nconst UNAUTHORIZED = 401\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const {\n      status\n    } = error.response\n    if (status === UNAUTHORIZED) {\n      window.location.href = '/login.html'\n    }\n    return Promise.reject(error)\n  }\n)\nconst apiUrl = 'http://192.168.43.211:44396/'\n// init datepicker\n$('[data-toggle=\"datepicker\"]').datepicker()\n// fetch award list\naxios({\n  method: 'get',\n  url: `${apiUrl}/api/Awards`,\n  headers: {\n    Authorization: `bearer ${localStorage.getItem('accessToken')}`\n  }\n})\n  .then((res) => {\n    if (res && res.data) {\n      res.data.forEach((item) => {\n        const awardItem = $('<option></option>')\n        awardItem.text(item.AwardName)\n        awardItem.attr('value', item.AwardId)\n        $('#AwardId').append(awardItem)\n      })\n    }\n  })\n// create user\n$('#createCompertition').on('submit', (e) => {\n  e.preventDefault()\n  const formInput = $('#createCompertition').find('.form-control')\n  formInput.removeClass('is-invalid')\n  formInput.next().remove()\n  const data = {}\n  let invalid = false\n  formInput.each(function () {\n    if (!$(this).val().trim()) {\n      invalid = true\n      $(this).addClass('is-invalid')\n      $(this).after($('<div class=\"invalid-feedback\">This field is required!</div>'))\n    } else {\n      data[$(this).attr('name')] = $(this).val().trim()\n    }\n  })\n  if (!invalid) {\n    axios({\n      method: 'post',\n      url: `${apiUrl}/api/Competitions`,\n      headers: {\n        Authorization: `bearer ${localStorage.getItem('accessToken')}`\n      },\n      data\n    })\n      .then(() => {\n        window.location.href = '/admin/upcoming-compertition.html'\n      })\n  }\n})\n"],"file":"create-compertition.js"}